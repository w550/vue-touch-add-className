/* transformjs 1.1.2
 * By dntzhang
 * Github: https://github.com/AlloyTeam/AlloyTouch/tree/master/transformjs
 */
(function(){function u(n,t,i){for(var e,r=0,u=t.length;r<u;r++)e=t[r],f(n,e,i)}function f(n,t,i){Object.defineProperty(n,t,{get:function(){return this["_"+t]},set:function(n){n!==this["_"+t]&&(this["_"+t]=n,i())}})}function e(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}function t(n,t){var r=["translateX","translateY","translateZ","scaleX","scaleY","scaleZ","rotateX","rotateY","rotateZ","skewX","skewY","originX","originY","originZ"],f=e(n);t||r.push("perspective");u(n,r,function(){var r=n.matrix3d.identity().appendTransform(n.translateX,n.translateY,n.translateZ,n.scaleX,n.scaleY,n.scaleZ,n.rotateX,n.rotateY,n.rotateZ,n.skewX,n.skewY,n.originX,n.originY,n.originZ),i=(t?"":"perspective("+n.perspective+"px) ")+"matrix3d("+Array.prototype.slice.call(r.elements).join(",")+")";f?n.style.transform=n.style.msTransform=n.style.OTransform=n.style.MozTransform=n.style.webkitTransform=i:n.transform=i});n.matrix3d=new i;t||(n.perspective=500);n.scaleX=n.scaleY=n.scaleZ=1;n.translateX=n.translateY=n.translateZ=n.rotateX=n.rotateY=n.rotateZ=n.skewX=n.skewY=n.originX=n.originY=n.originZ=0}var n=.017453292519943295,i=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){this.elements=window.Float32Array?new Float32Array(16):[];var w=this.elements;w[0]=n!==undefined?n:1;w[4]=t||0;w[8]=i||0;w[12]=r||0;w[1]=u||0;w[5]=f!==undefined?f:1;w[9]=e||0;w[13]=o||0;w[2]=s||0;w[6]=h||0;w[10]=c!==undefined?c:1;w[14]=l||0;w[3]=a||0;w[7]=v||0;w[11]=y||0;w[15]=p!==undefined?p:1},r;i.prototype={set:function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var w=this.elements;return w[0]=n,w[4]=t,w[8]=i,w[12]=r,w[1]=u,w[5]=f,w[9]=e,w[13]=o,w[2]=s,w[6]=h,w[10]=c,w[14]=l,w[3]=a,w[7]=v,w[11]=y,w[15]=p,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},multiplyMatrices:function(n,t){var i=n.elements,r=this.elements,u=i[0],f=i[4],e=i[8],o=i[12],s=i[1],h=i[5],c=i[9],l=i[13],a=i[2],v=i[6],y=i[10],p=i[14],w=i[3],b=i[7],k=i[11],d=i[15],g=t[0],nt=t[1],tt=t[2],it=t[3],rt=t[4],ut=t[5],ft=t[6],et=t[7],ot=t[8],st=t[9],ht=t[10],ct=t[11],lt=t[12],at=t[13],vt=t[14],yt=t[15];return r[0]=u*g+f*rt+e*ot+o*lt,r[4]=u*nt+f*ut+e*st+o*at,r[8]=u*tt+f*ft+e*ht+o*vt,r[12]=u*it+f*et+e*ct+o*yt,r[1]=s*g+h*rt+c*ot+l*lt,r[5]=s*nt+h*ut+c*st+l*at,r[9]=s*tt+h*ft+c*ht+l*vt,r[13]=s*it+h*et+c*ct+l*yt,r[2]=a*g+v*rt+y*ot+p*lt,r[6]=a*nt+v*ut+y*st+p*at,r[10]=a*tt+v*ft+y*ht+p*vt,r[14]=a*it+v*et+y*ct+p*yt,r[3]=w*g+b*rt+k*ot+d*lt,r[7]=w*nt+b*ut+k*st+d*at,r[11]=w*tt+b*ft+k*ht+d*vt,r[15]=w*it+b*et+k*ct+d*yt,this},_rounded:function(n,t){return t=Math.pow(10,t||15),Math.round(n*t)/t},_arrayWrap:function(n){return window.Float32Array?new Float32Array(n):n},appendTransform:function(t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p=o*n,w=this._rounded(Math.cos(p)),b=this._rounded(Math.sin(p)),k=s*n,d=this._rounded(Math.cos(k)),g=this._rounded(Math.sin(k)),nt=h*n,tt=this._rounded(Math.cos(nt*-1)),it=this._rounded(Math.sin(nt*-1));return this.multiplyMatrices(this,this._arrayWrap([1,0,0,t,0,w,b,i,0,-b,w,r,0,0,0,1])),this.multiplyMatrices(this,this._arrayWrap([d,0,g,0,0,1,0,0,-g,0,d,0,0,0,0,1])),this.multiplyMatrices(this,this._arrayWrap([tt*u,it*f,0,0,-it*u,tt*f,0,0,0,0,1*e,0,0,0,0,1])),(c||l)&&this.multiplyMatrices(this,this._arrayWrap([this._rounded(Math.cos(c*n)),this._rounded(Math.sin(c*n)),0,0,-1*this._rounded(Math.sin(l*n)),this._rounded(Math.cos(l*n)),0,0,0,0,1,0,0,0,0,1])),(a||v||y)&&(this.elements[12]-=a*this.elements[0]+v*this.elements[4]+y*this.elements[8],this.elements[13]-=a*this.elements[1]+v*this.elements[5]+y*this.elements[9],this.elements[14]-=a*this.elements[2]+v*this.elements[6]+y*this.elements[10]),this}};r=function(n,t,i,r,u,f){return this.a=n==null?1:n,this.b=t||0,this.c=i||0,this.d=r==null?1:r,this.tx=u||0,this.ty=f||0,this};r.prototype={identity:function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},appendTransform:function(t,i,r,u,f,e,o,s,h){if(f%360)var a=f*n,c=Math.cos(a),l=Math.sin(a);else c=1,l=0;return e||o?(e*=n,o*=n,this.append(Math.cos(o),Math.sin(o),-Math.sin(e),Math.cos(e),t,i),this.append(c*r,l*r,-l*u,c*u,0,0)):this.append(c*r,l*r,-l*u,c*u,t,i),(s||h)&&(this.tx-=s*this.a+h*this.c,this.ty-=s*this.b+h*this.d),this},append:function(n,t,i,r,u,f){var e=this.a,o=this.b,s=this.c,h=this.d;return this.a=n*e+t*s,this.b=n*o+t*h,this.c=i*e+r*s,this.d=i*o+r*h,this.tx=u*e+f*s+this.tx,this.ty=u*o+f*h+this.ty,this},initialize:function(n,t,i,r,u,f){return this.a=n,this.b=t,this.c=i,this.d=r,this.tx=u,this.ty=f,this},setValues:function(n,t,i,r,u,f){return this.a=n==null?1:n,this.b=t||0,this.c=i||0,this.d=r==null?1:r,this.tx=u||0,this.ty=f||0,this},copy:function(n){return this.setValues(n.a,n.b,n.c,n.d,n.tx,n.ty)}};t.getMatrix3D=function(n){var t={translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0,originX:0,originY:0,originZ:0,scaleX:1,scaleY:1,scaleZ:1};for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);return(new i).identity().appendTransform(t.translateX,t.translateY,t.translateZ,t.scaleX,t.scaleY,t.scaleZ,t.rotateX,t.rotateY,t.rotateZ,t.skewX,t.skewY,t.originX,t.originY,t.originZ).elements};t.getMatrix2D=function(n){var t={translateX:0,translateY:0,rotation:0,skewX:0,skewY:0,originX:0,originY:0,scaleX:1,scaleY:1};for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);return(new r).identity().appendTransform(t.translateX,t.translateY,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.originX,t.originY)};typeof module!="undefined"&&typeof exports=="object"?module.exports=t:window.Transform=t})();